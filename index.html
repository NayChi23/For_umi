<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>To My Love</title>
  <style>
    body {
      margin: 0;
      font-family: 'Georgia', serif;
      color: #fff;
      background: black;
      overflow: hidden;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }

    canvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: -1;
    }

    .start-container {
      text-align: center;
    }

    h1 {
      font-size: 4em;
      color: #ffccff;
      margin-bottom: 2rem;
      text-shadow: 0 0 20px rgba(255, 204, 255, 0.5);
    }

    .start-button {
      padding: 2rem 4rem;
      font-size: 2em;
      font-family: 'Georgia', serif;
      color: #333;
      background: linear-gradient(45deg, #ffccff, #ffc0cb);
      border: none;
      border-radius: 20px;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(255, 204, 255, 0.3);
      transition: all 0.3s ease;
    }

    .start-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(255, 204, 255, 0.5);
      background: linear-gradient(45deg, #ffc0cb, #ffb6c1);
    }

    #musicPlayer {
      position: fixed;
      top: -1000px;
      left: -1000px;
      opacity: 0;
      pointer-events: none;
    }

    .main-content {
      display: none;
      padding: 2rem;
      max-width: 700px;
      margin: 0 auto;
      text-align: center;
      margin-top: 10vh;
    }

    .main-content h1 {
      font-size: 3em;
      color: #ffccff;
    }

    .main-content p {
      font-size: 1.2em;
      line-height: 1.6;
    }

    .quote {
      margin-top: 2rem;
      font-style: italic;
      opacity: 0.8;
    }

    .button {
      margin-top: 3rem;
      padding: 1rem 2rem;
      font-size: 1.2em;
      color: #333;
      background: #ffccff;
      border: none;
      border-radius: 10px;
      cursor: pointer;
    }

    .button:hover {
      background: #ffc0cb;
    }

    /* Photo popup styles */
    .photo-gallery {
      margin-top: 2rem;
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .photo-thumbnail {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      cursor: pointer;
      border: 3px solid #ffccff;
      object-fit: cover;
      transition: all 0.3s ease;
      box-shadow: 0 5px 15px rgba(255, 204, 255, 0.3);
    }

    .photo-thumbnail:hover {
      transform: scale(1.1);
      border-color: #ffc0cb;
      box-shadow: 0 8px 25px rgba(255, 204, 255, 0.5);
    }

    .popup-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.9);
      z-index: 1000;
      justify-content: center;
      align-items: center;
    }

    .popup-content {
      position: relative;
      max-width: 90%;
      max-height: 90%;
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 204, 255, 0.3);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .popup-image {
      max-width: 100%;
      max-height: 70vh;
      border-radius: 15px;
      box-shadow: 0 20px 60px rgba(255, 204, 255, 0.4);
    }

    .popup-caption {
      color: #ffccff;
      text-align: center;
      margin-top: 1rem;
      font-size: 1.2em;
      font-style: italic;
      position: absolute;
      bottom: 10px;
      left: 50%;
      transform: translateX(-50%);
    }

    .close-btn {
      position: absolute;
      top: 10px;
      right: 20px;
      color: #ffccff;
      font-size: 2em;
      cursor: pointer;
      z-index: 1001;
    }

    .close-btn:hover {
      color: #ffc0cb;
      transform: scale(1.2);
    }

    /* Gallery navigation arrows */
    .nav-arrow {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 204, 255, 0.2);
      border: 2px solid rgba(255, 204, 255, 0.5);
      color: #ffccff;
      font-size: 2em;
      padding: 0.5rem 1rem;
      cursor: pointer;
      border-radius: 50%;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .nav-arrow:hover {
      background: rgba(255, 204, 255, 0.4);
      color: #ff69b4;
      transform: translateY(-50%) scale(1.1);
    }

    .nav-arrow.prev {
      left: 20px;
    }

    .nav-arrow.next {
      right: 20px;
    }

    .gallery-counter {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      color: #ffccff;
      font-size: 1.2em;
      background: rgba(255, 204, 255, 0.2);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 204, 255, 0.3);
    }

    /* Surprise page styles */
    .surprise-content {
      display: none;
      text-align: center;
      position: relative;
      z-index: 10;
      min-height: 100vh;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      padding: 2rem;
    }

    .surprise-content.active {
      display: flex;
    }

    .surprise-title {
      font-size: 3.5em;
      color: #ffccff;
      margin: 2rem 0;
      text-shadow: 0 0 30px rgba(255, 204, 255, 0.8);
      animation: titleGlow 3s ease-in-out infinite alternate;
    }

    @keyframes titleGlow {
      from { text-shadow: 0 0 30px rgba(255, 204, 255, 0.8); }
      to { text-shadow: 0 0 50px rgba(255, 204, 255, 1), 0 0 70px rgba(255, 182, 193, 0.6); }
    }

    .romantic-message {
      font-size: 1.6em;
      color: #ffc0cb;
      margin: 3rem 0;
      font-style: italic;
      line-height: 1.8;
      text-shadow: 0 0 20px rgba(255, 192, 203, 0.5);
      background: rgba(255, 255, 255, 0.1);
      padding: 2rem;
      border-radius: 20px;
      backdrop-filter: blur(10px);
      border: 2px solid rgba(255, 204, 255, 0.3);
    }

    .heart-divider {
      font-size: 2em;
      color: #ff69b4;
      margin: 2rem 0;
      animation: heartbeat 2s ease-in-out infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .back-button {
      padding: 1rem 2rem;
      font-size: 1.2em;
      font-family: 'Georgia', serif;
      color: #333;
      background: linear-gradient(45deg, #ffccff, #ffc0cb);
      border: none;
      border-radius: 25px;
      cursor: pointer;
      text-decoration: none;
      display: inline-block;
      box-shadow: 0 10px 30px rgba(255, 204, 255, 0.3);
      transition: all 0.3s ease;
      margin-top: 2rem;
    }

    .back-button:hover {
      transform: translateY(-5px);
      box-shadow: 0 15px 40px rgba(255, 204, 255, 0.5);
      background: linear-gradient(45deg, #ffc0cb, #ffb6c1);
    }

    /* Floating photos around the surprise content */
    .floating-photos {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      pointer-events: none;
      z-index: 5;
    }

    .floating-photo {
      position: absolute;
      width: 90px;
      height: 90px;
      border-radius: 50%;
      border: 3px solid #ffccff;
      object-fit: cover;
      transition: all 0.4s ease;
      box-shadow: 0 8px 25px rgba(255, 204, 255, 0.4);
      animation: floatPhoto 4s ease-in-out infinite;
      cursor: pointer;
      pointer-events: all;
    }

    @keyframes floatPhoto {
      0%, 100% { transform: translateY(0px) rotate(0deg); }
      50% { transform: translateY(-15px) rotate(3deg); }
    }

    .floating-photo:hover {
      transform: scale(1.1) rotate(3deg) !important;
      border-color: #ff69b4;
      box-shadow: 0 15px 40px rgba(255, 204, 255, 0.6);
      z-index: 20;
    }

    /* Beautiful organic distribution of 13 photos */
    .floating-photo:nth-child(1) {
      top: 5%;
      left: 12%;
      animation-delay: 0s;
    }

    .floating-photo:nth-child(2) {
      top: 8%;
      right: 18%;
      animation-delay: 1.2s;
    }

    .floating-photo:nth-child(3) {
      top: 18%;
      left: 6%;
      animation-delay: 2.4s;
    }

    .floating-photo:nth-child(4) {
      top: 22%;
      right: 8%;
      animation-delay: 3.6s;
    }

    .floating-photo:nth-child(5) {
      top: 32%;
      left: 15%;
      animation-delay: 4.8s;
    }

    .floating-photo:nth-child(6) {
      top: 28%;
      right: 25%;
      animation-delay: 0.6s;
    }

    .floating-photo:nth-child(7) {
      top: 45%;
      left: 8%;
      animation-delay: 1.8s;
    }

    .floating-photo:nth-child(8) {
      top: 42%;
      right: 12%;
      animation-delay: 3s;
    }

    .floating-photo:nth-child(9) {
      top: 58%;
      left: 20%;
      animation-delay: 4.2s;
    }

    .floating-photo:nth-child(10) {
      top: 55%;
      right: 22%;
      animation-delay: 5.4s;
    }

    .floating-photo:nth-child(11) {
      top: 70%;
      left: 10%;
      animation-delay: 2.6s;
    }

    .floating-photo:nth-child(12) {
      top: 68%;
      right: 15%;
      animation-delay: 3.8s;
    }

    .floating-photo:nth-child(13) {
      top: 15%;
      left: 35%;
      animation-delay: 5s;
    }

    @media (max-width: 768px) {
      .floating-photo:nth-child(1) { top: 3%; left: 10%; }
      .floating-photo:nth-child(2) { top: 6%; right: 15%; }
      .floating-photo:nth-child(3) { top: 15%; left: 4%; }
      .floating-photo:nth-child(4) { top: 18%; right: 6%; }
      .floating-photo:nth-child(5) { top: 28%; left: 12%; }
      .floating-photo:nth-child(6) { top: 25%; right: 20%; }
      .floating-photo:nth-child(7) { top: 40%; left: 6%; }
      .floating-photo:nth-child(8) { top: 38%; right: 10%; }
      .floating-photo:nth-child(9) { top: 52%; left: 16%; }
      .floating-photo:nth-child(10) { top: 50%; right: 18%; }
      .floating-photo:nth-child(11) { top: 65%; left: 8%; }
      .floating-photo:nth-child(12) { top: 62%; right: 12%; }
      .floating-photo:nth-child(13) { top: 12%; left: 30%; }
      
      .floating-photo { width: 70px; height: 70px; }
      .surprise-title { font-size: 2.5rem; }
      .romantic-message { font-size: 1.3em; padding: 1.5rem; }
    }
  </style>
</head>
<body>
  <canvas id="stars"></canvas>

  <div class="start-container" id="startContainer">
    <h1>Our Love Story</h1>
    <button class="start-button" id="startBtn">Begin Journey 💕</button>
  </div>

  <div class="main-content" id="mainContent">
    <h1>Our Story</h1>
    <p>
      Not sure what is real love and how far we can go. But hope we can hold our hands until the end.
    </p>

    <div class="quote" id="quote">Loading a love quote...</div>

    <div class="photo-gallery">
      <img src="5.jpg" class="photo-thumbnail" alt="Memory 1">
      <img src="1.jpg" 
           class="photo-thumbnail" 
           alt="Memory 2">
      <img src="2.jpg" 
           class="photo-thumbnail" 
           alt="Memory 3">
      <img src="3.jpg" 
           class="photo-thumbnail" 
           alt="Memory 4">
    </div>

    <button class="button" onclick="showSurprise()">Next page 💖</button>
  </div>

  <!-- Surprise Page -->
  <div class="surprise-content" id="surpriseContent">
    <div class="romantic-message">
      "Thanks for admiring me 💕"
    </div>

    <div class="heart-divider">💕 💖 💕</div>

    <button class="back-button" onclick="goBack()">← Back to Our Story</button>
  </div>

  <!-- Floating Photos for Surprise Page -->
  <div class="floating-photos" id="floatingPhotos" style="display: none;">
    <img src="6.jpg" class="floating-photo" alt="Memory 1" onclick="openGallery(0)">
    <img src="7.jpg" class="floating-photo" alt="Memory 2" onclick="openGallery(1)">
    <img src="8.jpg" class="floating-photo" alt="Memory 3" onclick="openGallery(2)">
    <img src="9.jpg" class="floating-photo" alt="Memory 4" onclick="openGallery(3)">
    <img src="10.jpg" class="floating-photo" alt="Memory 5" onclick="openGallery(4)">
    <img src="11.jpg" class="floating-photo" alt="Memory 6" onclick="openGallery(5)">
    <img src="12.jpg" class="floating-photo" alt="Memory 7" onclick="openGallery(6)">
    <img src="13.jpg" class="floating-photo" alt="Memory 8" onclick="openGallery(7)">
    <img src="14.jpg" class="floating-photo" alt="Memory 9" onclick="openGallery(8)">
    <img src="15.jpg" class="floating-photo" alt="Memory 10" onclick="openGallery(9)">
    <img src="16.jpg" class="floating-photo" alt="Memory 11" onclick="openGallery(10)">
  </div>

  <div class="popup-overlay" id="popupOverlay">
    <div class="popup-content">
      <span class="close-btn" onclick="closePopup()">&times;</span>
      <div class="gallery-counter" id="galleryCounter">1 / 13</div>
      <button class="nav-arrow prev" id="prevBtn" onclick="previousImage()">‹</button>
      <img id="popupImage" class="popup-image" src="" alt="">
      <button class="nav-arrow next" id="nextBtn" onclick="nextImage()">›</button>
      <div id="popupCaption" class="popup-caption"></div>
    </div>
  </div>

  <div id="musicPlayer">
    <audio id="audioPlayer" controls autoplay loop>
      <source src="ytmp3free.cc_bruno-major-nothing-lyrics-youtubemp3free.org.mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>

  <script>
    // Starfield background
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d');
    let stars = [];
    const numStars = 200;

    function resizeCanvas() {
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      stars = Array.from({length: numStars}, () => ({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 1.5,
        speed: Math.random() * 0.5 + 0.1
      }));
    }

    function animateStars() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "white";
      stars.forEach(star => {
        ctx.beginPath();
        ctx.arc(star.x, star.y, star.radius, 0, Math.PI * 2);
        ctx.fill();
        star.y += star.speed;
        if (star.y > canvas.height) {
          star.y = 0;
          star.x = Math.random() * canvas.width;
        }
      });
      requestAnimationFrame(animateStars);
    }

    window.addEventListener('resize', resizeCanvas);
    resizeCanvas();
    animateStars();

    // Start button functionality
    document.getElementById('startBtn').addEventListener('click', () => {
      // Start music
      document.getElementById('musicPlayer').style.display = 'block';
      const audioPlayer = document.getElementById('audioPlayer');
      audioPlayer.play();
      
      // Store audio state globally so it persists across pages
      window.globalAudio = audioPlayer;
      
      // Hide start screen and show main content
      document.getElementById('startContainer').style.display = 'none';
      document.getElementById('mainContent').style.display = 'block';
      
      // Load love quote
      fetch('https://api.quotable.io/random?tags=love')
        .then(res => res.json())
        .then(data => {
          document.getElementById('quote').textContent = `"${data.content}" — ${data.author}`;
        })
        .catch(() => {
          document.getElementById('quote').textContent = 'You are my favorite quote.';
        });
    });

    // Gallery functionality
    let currentImageIndex = 0;
    let isGalleryMode = false;
    const galleryImages = [
      { src: '1.jpg', caption: 'Hi, my forever 💕' },
      { src: '2.jpg', caption: 'Magic began  💖' },
      { src: '3.jpg', caption: 'With you, always 🌟' },
      { src: '4.jpg', caption: 'Us = home 💝' },
      { src: '5.jpg', caption: 'Forever yours 💖' },
      { src: '6.jpg', caption: 'My happy place 💫' },
      { src: '7.jpg', caption: 'You + me = 💞' },
      { src: '8.jpg', caption: 'Never apart💕' },
      { src: '9.jpg', caption: 'Our story 🌙' },
      { src: '10.jpg', caption: 'Love of mine 💖' },
      { src: '11.jpg', caption: 'Honey is you 🌺' },
      { src: '12.jpg', caption: 'Still choose you 💐' },
      { src: '13.jpg', caption: 'More than ever 🌷' }
    ];

    // Open gallery at specific image
    function openGallery(index) {
      currentImageIndex = index;
      isGalleryMode = true;
      showCurrentImage();
      document.getElementById('popupOverlay').style.display = 'flex';
      
      // Show navigation arrows and counter
      document.getElementById('prevBtn').style.display = 'block';
      document.getElementById('nextBtn').style.display = 'block';
      document.getElementById('galleryCounter').style.display = 'block';
      
      // Add fade-in animation
      const popup = document.getElementById('popupOverlay');
      popup.style.opacity = '0';
      setTimeout(() => {
        popup.style.opacity = '1';
        popup.style.transition = 'opacity 0.3s ease';
      }, 10);
    }

    // Show current image in gallery
    function showCurrentImage() {
      const popupImg = document.getElementById('popupImage');
      const popupCaption = document.getElementById('popupCaption');
      const counter = document.getElementById('galleryCounter');
      
      popupImg.src = galleryImages[currentImageIndex].src;
      popupCaption.textContent = galleryImages[currentImageIndex].caption;
      counter.textContent = `${currentImageIndex + 1} / ${galleryImages.length}`;
    }

    // Navigate to next image
    function nextImage() {
      if (isGalleryMode) {
        currentImageIndex = (currentImageIndex + 1) % galleryImages.length;
        showCurrentImage();
      }
    }

    // Navigate to previous image
    function previousImage() {
      if (isGalleryMode) {
        currentImageIndex = (currentImageIndex - 1 + galleryImages.length) % galleryImages.length;
        showCurrentImage();
      }
    }

    // Show surprise page
    function showSurprise() {
      document.getElementById('mainContent').style.display = 'none';
      document.getElementById('surpriseContent').classList.add('active');
      document.getElementById('floatingPhotos').style.display = 'block';
      
      // Change background to gradient
      document.body.style.background = 'linear-gradient(135deg, #1a0033, #330066, #660033)';
      document.body.style.backgroundSize = '400% 400%';
      document.body.style.animation = 'gradientShift 10s ease infinite';
    }

    // Go back to main story
    function goBack() {
      document.getElementById('surpriseContent').classList.remove('active');
      document.getElementById('floatingPhotos').style.display = 'none';
      document.getElementById('mainContent').style.display = 'block';
      
      // Reset background
      document.body.style.background = 'black';
      document.body.style.animation = 'none';
    }

    // Photo popup functions (for main page)
    function openPopup(img, caption) {
      isGalleryMode = false;
      const popup = document.getElementById('popupOverlay');
      const popupImg = document.getElementById('popupImage');
      const popupCaption = document.getElementById('popupCaption');
      
      popupImg.src = img.src;
      popupCaption.textContent = caption;
      popup.style.display = 'flex';
      
      // Hide navigation arrows and counter for main page
      document.getElementById('prevBtn').style.display = 'none';
      document.getElementById('nextBtn').style.display = 'none';
      document.getElementById('galleryCounter').style.display = 'none';
      
      // Add fade-in animation
      popup.style.opacity = '0';
      setTimeout(() => {
        popup.style.opacity = '1';
        popup.style.transition = 'opacity 0.3s ease';
      }, 10);
    }

    function closePopup() {
      const popup = document.getElementById('popupOverlay');
      popup.style.opacity = '0';
      setTimeout(() => {
        popup.style.display = 'none';
        isGalleryMode = false;
      }, 300);
    }

    // Close popup when clicking outside the image
    document.getElementById('popupOverlay').addEventListener('click', function(e) {
      if (e.target === this) {
        closePopup();
      }
    });

    // Close popup with Escape key, navigate with arrow keys
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        closePopup();
      } else if (isGalleryMode) {
        if (e.key === 'ArrowRight') {
          nextImage();
        } else if (e.key === 'ArrowLeft') {
          previousImage();
        }
      }
    });

    // Add gradient animation keyframe
    const style = document.createElement('style');
    style.textContent = `
      @keyframes gradientShift {
        0% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
        100% { background-position: 0% 50%; }
      }
    `;
    document.head.appendChild(style);
  </script>
</body>
</html>
